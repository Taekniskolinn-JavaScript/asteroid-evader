!function(e){function p(a){if(t[a])return t[a].exports;var o=t[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,p),o.loaded=!0,o.exports}var t={};return p.m=e,p.c=t,p.p="",p(0)}([function(e,p,t){t(1)},function(e,p,t){var a=t(2);!function(e,p,t,a,o,s,n){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,s=p.createElement(t),n=p.getElementsByTagName(t)[0],s.async=1,s.src=a,n.parentNode.insertBefore(s,n)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-50563344-2","auto"),ga("send","pageview"),app={state:0,score:0,difficulty:0,shotFired:!1,gameEnded:!1,keyDown:!1},a()},function(e,p,t){var a=t(3),o=t(4),s=t(5),n=t(6),i=t(7),r=t(8),l=t(9);e.exports=function(){var e=document.getElementById("canvas");app.ctx=e.getContext("2d"),l(),app.shipImage=new Image,app.shipImage.src="assets/images/ship.png",app.laserImage=new Image,app.laserImage.src="assets/images/laser.png",app.rockImage1=new Image,app.rockImage1.src="assets/images/rock1.png",app.rockImage2=new Image,app.rockImage2.src="assets/images/rock2.png",app.rockImage3=new Image,app.rockImage3.src="assets/images/rock3.png",app.explosionImage=new Image,app.explosionImage.src="assets/images/explosion.png",app.laserSound=new Audio,app.laserSound.src="assets/audio/laser.wav",app.explosionSound=new Audio,app.explosionSound.src="assets/audio/explosion.wav",app.themesongSound=new Audio,app.themesongSound.src="assets/audio/gunman.wav",app.themesongSound.loop=!0,app.themesongSound.play(),e.addEventListener("mousemove",n,!1),window.addEventListener("resize",i,!1),document.addEventListener("keyup",s,!1),document.addEventListener("keypress",o,!1),app.objects=[],app.asteroids=[app.rockImage1,app.rockImage2,app.rockImage3],r(),window.requestAnimationFrame(a)}},function(e,p,t){var a=t(10),o=t(11),s=t(12),n=t(13),i=t(14),r=t(15),l=t(16),c=t(17);e.exports=function f(e){window.requestAnimationFrame(f),app.lastTimeStamp||(app.lastTimeStamp=e);var p=(e-app.lastTimeStamp)/1e3;app.lastTimeStamp=e,app.state===a.STATE_PLAY&&(app.score+=10*p,Math.floor(app.score/100)>app.difficulty&&(app.difficulty++,r()));for(var t=app.objects.length;t--;){var h=app.objects[t];if(h.roll&&(h.angle+=h.roll*p),"laser"===h.type&&(h.speed&&(h.pos.y-=h.speed*p),h.pos.y+h.size<0&&app.objects.splice(t,1),app.state===a.STATE_PLAY))for(var g=app.objects.length;g--;){var u=app.objects[g];if("rock"===u.type&&c(h,u,50)){app.score+=u.points,app.objects.splice(g,1),app.objects.splice(t-1,1),i(u,5,.5),l("+"+u.points,p,u),r();break}}"explosion"===h.type&&(h.timer+=p*h.speed,h.timer>a.EXPLOSION_MAX_TIME&&app.objects.splice(t,1)),"text"===h.type&&(h.timer+=p,h.timer>a.TEXT_MAX_TIME&&app.objects.splice(t,1)),"rock"===h.type&&(h.speed&&(h.pos.y+=h.speed*p),h.pos.y-h.size>app.height&&(app.objects.splice(t,1),r()),app.state===a.STATE_PLAY&&c(h,app.hero,80)&&(app.state=a.STATE_END,app.keyDown&&(app.gameEnded=!0),i(app.hero)))}n(),app.state===a.STATE_END&&(0===app.score?s():o())}},function(e,p,t){var a=t(10),o=t(18),s=t(19);e.exports=function(e){app.keyDown=!0,app.state!==a.STATE_END||app.gameEnded?32===e.which&&s():o()}},function(e,p,t){var a=t(10);e.exports=function(e){app.keyDown=!1,app.state===a.STATE_END&&app.gameEnded&&(app.gameEnded=!1)}},function(e,p,t){var a=t(10);e.exports=function(e){app.state===a.STATE_PLAY&&(app.hero.pos.x=e.pageX-app.ctx.canvas.offsetLeft,app.hero.pos.y=e.pageY-app.ctx.canvas.offsetTop)}},function(e,p,t){var a=t(9);e.exports=function(e){a()}},function(e,p,t){function a(e,p){return Math.round(Math.random()*p-e+e)}var o=["#ffffff","#ffe9c4","#d4fbff"];e.exports=function(){for(var e=0;500>e;e++)app.objects.push({type:"star",pos:{x:Math.random()*app.width,y:Math.random()*app.height},radius:1.1*Math.random(),brightness:a(80,100)/100,color:o[a(0,o.length)]})}},function(e,p,t){e.exports=function(){app.width=app.ctx.canvas.width=window.innerWidth,app.height=app.ctx.canvas.height=window.innerHeight}},function(e,p,t){e.exports={EXPLOSION_MAX_TIME:2,TEXT_MAX_TIME:1,STATE_PLAY:1,STATE_END:0,ROCK_SIZES:[50,100]}},function(e,p,t){e.exports=function(){var e=app.ctx;e.textAlign="center",e.fillStyle="#00ffff",e.font="italic 130px Calibri",e.fillText("Game Over",app.width/2,app.height/2),e.textAlign="center",e.fillStyle="#fff",e.font="italic 20px Calibri",e.fillText("(press any key to play again)",app.width/2,app.height/2+50)}},function(e,p,t){e.exports=function(){var e=app.ctx;e.textAlign="center",e.fillStyle="#00ffff",e.font="130px Calibri",e.fillText("Asteroid Evader",app.width/2,app.height/4),e.textAlign="center",e.fillStyle="#fff",e.font="20px Calibri",e.fillText("Use mouse to navigate ship through asteroid field",app.width/2,app.height/2),e.textAlign="center",e.fillStyle="#fff",e.font="20px Calibri",e.fillText("Press spacebar to shoot lasers",app.width/2,app.height/2+25),e.textAlign="center",e.fillStyle="#fff",e.font="italic 20px Calibri",e.fillText("(press any key to play)",app.width/2,app.height/2+75)}},function(e,p,t){var a=t(10),o=t(20),s=t(21);e.exports=function(){o();for(var e=app.ctx,p=0;p<app.objects.length;p++){var t=app.objects[p];if("hero"!==t.type||app.state===a.STATE_PLAY){if(e.save(),"star"===t.type)e.beginPath(),e.globalAlpha=t.brightness,e.fillStyle=t.color,e.arc(t.pos.x,t.pos.y,t.radius,0,2*Math.PI,!0),e.fill(),e.closePath();else if("text"===t.type)e.globalAlpha=1-t.timer/a.TEXT_MAX_TIME,e.textAlign="center",e.fillStyle="#00ffff",e.font="20px Calibri",e.fillText(t.text,t.pos.x,t.pos.y);else{if(t.alpha){var n;"function"==typeof t.alpha?alhpa=t.alpha():n=t.alpha,e.globalAlpha=n}var i=1;"explosion"===t.type&&(i=2),e.translate(t.pos.x,t.pos.y),e.rotate(t.angle),e.drawImage(t.image,-t.size/2,-t.size/2,t.size*i,t.size*i)}e.restore()}}app.score>0&&(e.textAlign="center",e.fillStyle="#fff",e.font="italic 30px Calibri",e.fillText("Score "+s(Math.floor(app.score)),app.width/2,50))}},function(e,p,t){var a=t(10),o=t(22);e.exports=function(e,p,t){app.objects.push({type:"explosion",alpha:function(){return 1-this.timer/a.EXPLOSION_MAX_TIME},timer:.1,pos:{x:e.pos.x-e.size/2,y:e.pos.y-e.size/2},size:e.size,speed:p||1,image:app.explosionImage}),o("explosion",t)}},function(e,p,t){var a=t(10);e.exports=function(){var e=a.ROCK_SIZES[Math.floor(Math.random()*a.ROCK_SIZES.length)],p=e/10,t=app.asteroids[Math.floor(Math.random()*app.asteroids.length)];app.objects.push({type:"rock",pos:{x:Math.random()*app.width,y:Math.random()*-app.height},angle:Math.random()*Math.PI*2,roll:Math.random()*Math.PI*2-Math.PI,speed:150*Math.random()+100,size:e,points:p,image:t})}},function(e,p,t){e.exports=function(e,p,t){app.objects.push({type:"text",pos:t.pos,text:e,timer:p})}},function(e,p,t){e.exports=function(e,p,t){var a=e.pos.x-p.pos.x,o=e.pos.y-p.pos.y,s=Math.sqrt(a*a+o*o);return t>s}},function(e,p,t){var a=t(10),o=t(20),s=t(23),n=t(8),i=t(24);e.exports=function(){o(),app.state=a.STATE_PLAY,app.score=0,app.difficulty=0,app.objects=[],s(),n(),i()}},function(e,p,t){var a=t(10),o=t(25),s=t(22);e.exports=function(){app.state!==a.STATE_END&&(app.shotFired||(app.shotFired=!0,setTimeout(o,250),app.objects.push({type:"laser",pos:{x:app.hero.pos.x,y:app.hero.pos.y-60},roll:0,angle:0,speed:500,size:80,image:app.laserImage}),s("laser")))}},function(e,p,t){e.exports=function(){var e=app.ctx;e.fillStyle="#000020",e.fillRect(0,0,app.width,app.height)}},function(e,p,t){e.exports=function(e){for(var p=String(e).split(""),t="",a=p.length,o=0;a--;)t+=p[a],3===++o&&0!==a&&(t+=",",o=0);return t.split("").reverse().join("")}},function(e,p,t){e.exports=function(e,p){var t=app[e+"Sound"];t&&(t.pause(),t.volume=p||1,t.currentTime=0,t.play())}},function(e,p,t){e.exports=function(){app.hero={type:"hero",pos:{x:app.width/2,y:app.height-100},roll:0,angle:0,size:90,image:app.shipImage},app.objects.push(app.hero)}},function(e,p,t){var a=t(15);e.exports=function(){for(var e=0;10>e;e++)a()}},function(e,p,t){e.exports=function(){app.shotFired=!1}}]);